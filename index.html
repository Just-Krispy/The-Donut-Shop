<!DOCTYPE html>
<html>
<head>
    <title>Donut Talk</title>
</head>
<body>
    <h1>Donut Talk</h1>
    <div id="chat-container"></div>

    <script>
        const chatContainer = document.getElementById("chat-container");

        function appendMessage(message) {
            const messageElement = document.createElement("p");
            messageElement.textContent = message;
            chatContainer.appendChild(messageElement);
        }

        function startChat() {
            const userInput = document.createElement("input");
            userInput.type = "text";
            chatContainer.appendChild(userInput);

            function continueChat(message) {
                appendMessage(message);

                userInput.addEventListener("keyup", (event) => {
                    if (event.key === "Enter") {
                        const response = userInput.value;
                        userInput.value = ""; // Clear the input field
                        handleUserResponse(response);
                    }
                });
            }

            function handleUserResponse(response) {
                if (response.toLowerCase() === 'existing') {
                    // Handle existing order logic here
                    continueChat("Agent: Please enter your name:");
                } else if (response.toLowerCase() === 'new') {
                    // Handle new order logic here
                    continueChat("Agent: Please enter your name:");
                } else {
                    continueChat("Agent: Invalid choice. Please enter 'existing' or 'new'.");
                }
            }

            continueChat("Agent: Are you checking an existing order or would you like to place a new order? (Enter 'existing' or 'new'):");
        }

        // Start the conversation
        startChat();
    </script>
</body>
</html>
